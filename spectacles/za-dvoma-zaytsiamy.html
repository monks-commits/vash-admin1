<!DOCTYPE html>
        seatEl.className = 'seat';
        seatEl.textContent = seat.seat;
        seatEl.style.left = `${seat.x}px`;
        seatEl.style.top = `${seat.y}px`;
        seatEl.style.backgroundColor = priceColors[seat.price];
        seatEl.dataset.index = index;
        seatEl.addEventListener('click', () => toggleSeat(index, seatEl));
        hall.appendChild(seatEl);
      });
    }

    function toggleSeat(index, element) {
      const seat = quotaSeats[index];
      const key = `${seat.row}-${seat.seat}`;
      const existing = selectedSeats.find(s => s.key === key);
      if (existing) {
        selectedSeats = selectedSeats.filter(s => s.key !== key);
        element.classList.remove('selected');
      } else {
        selectedSeats.push({ key, ...seat });
        element.classList.add('selected');
      }
      updateCart();
    }

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      const totalEl = document.getElementById('total');
      cartItems.innerHTML = '';
      let total = 0;
      selectedSeats.forEach(item => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.textContent = `–†—è–¥ ${item.row}, –ú—ñ—Å—Ü–µ ${item.seat} ‚Äî ${item.price} –≥—Ä–Ω`;
        cartItems.appendChild(div);
        total += item.price;
      });
      totalEl.textContent = total;
      document.getElementById('pay-btn').disabled = selectedSeats.length === 0;
    }

    document.getElementById('pay-btn').addEventListener('click', () => {
      const name = document.getElementById('name').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!name || !phone || !email) {
        alert('‚ùó –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è.');
        return;
      }

      // –ü–æ–∫–∞–∑—É—î–º–æ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏
      const requisitesDiv = document.getElementById('requisites');
      const seatsList = selectedSeats.map(s => `–†${s.row}-–ú${s.seat}`).join(', ');
      requisitesDiv.innerHTML = `
        <p><strong>–†–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –æ–ø–ª–∞—Ç–∏:</strong></p>
        <p>–û—Ç—Ä–∏–º—É–≤–∞—á: –¢–û–í ¬´–í–∞—à–∞ –∫–æ–º–ø–∞–Ω—ñ—è¬ª</p>
        <p>–Ñ–î–†–ü–û–£: 12345678</p>
        <p>–†–∞—Ö—É–Ω–æ–∫: UA123456789012345678901234567</p>
        <p>–ë–∞–Ω–∫: –ê–¢ ¬´–ü—Ä–∏–≤–∞—Ç–ë–∞–Ω–∫¬ª</p>
        <p><strong>–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:</strong> –û–ø–ª–∞—Ç–∞ –∫–≤–∏—Ç–∫—ñ–≤ –Ω–∞ ¬´–ó–∞ –¥–≤–æ–º–∞ –∑–∞–π—Ü—è–º–∏¬ª, –º—ñ—Å—Ü—è: ${seatsList}</p>
      `;
      requisitesDiv.style.display = 'block';

      // üí° –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –¥–∞–Ω–∏—Ö —É Google –¢–∞–±–ª–∏—Ü—é (—á–µ—Ä–µ–∑ Make.com)
    });

    renderSeats();
  </script>
</body>
</html>
